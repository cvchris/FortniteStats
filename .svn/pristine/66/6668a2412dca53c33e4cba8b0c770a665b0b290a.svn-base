using FortniteStats.Model;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using FortniteStats.StatsExtensively;
using Xamarin.Forms;
using Xamarin.Forms.Xaml;

namespace FortniteStats
{
	[XamlCompilation(XamlCompilationOptions.Compile)]
	public partial class Stats : ContentPage
	{
		public Stats (GetStats stats)
		{
            int i;
			InitializeComponent ();
			user.Text = stats.username;
            //platformsList.ItemsSource = ;

            var pc = new Image { Source = "about.jpg" };
            //var ps4 = new Image { Source = "ps4.jpg" };
            // xbox = new Image { Source = "xbox.jpg" };




            for (i = 0; i < stats.platforms.Count(); i++)
            {
                PlatformsGrid.ColumnDefinitions.Add(new ColumnDefinition());
            }

            for (i = 0; i < stats.platforms.Count(); i++)
            {
                Grid.SetColumn(pc, i);
            }


            #region Totals
            WinsTotal.Text = stats.totals.wins.ToString();
			WinrateTotal.Text = stats.totals.winrate.ToString() + "%";
			KillsTotal.Text = stats.totals.kills.ToString();
			KDTotal.Text = stats.totals.kd.ToString();

			#endregion

			#region Solos

			Top1solo.Text = stats.stats.placetop1_solo.ToString();
			Top10solo.Text = stats.stats.placetop10_solo.ToString();
			Killssolo.Text = stats.stats.kills_solo.ToString();
			Winratesolo.Text = stats.stats.winrate_solo.ToString() + "%";
			KDsolo.Text = stats.stats.kd_solo.ToString();


			#endregion

			#region Duos

			Top1duo.Text = stats.stats.placetop1_duo.ToString();
			Top12duo.Text = stats.stats.placetop12_duo.ToString();
			Killsduo.Text = stats.stats.kills_duo.ToString();
			Winrateduo.Text = stats.stats.winrate_duo.ToString() + "%";
			KDduo.Text = stats.stats.kd_duo.ToString();

            #endregion

            #region Squads

            Top1squad.Text = stats.stats.placetop1_squad.ToString();
            Top3squad.Text = stats.stats.placetop3_squad.ToString();
            Killssquad.Text = stats.stats.kills_squad.ToString();
            Winratesquad.Text = stats.stats.winrate_squad.ToString() + "%";
            KDsquad.Text = stats.stats.kd_squad.ToString();

            #endregion

        }

        private void Totals_Tapped(object sender, EventArgs e)
		{
		    Navigation.PushAsync(new TotalsPage());
		}
	}
}